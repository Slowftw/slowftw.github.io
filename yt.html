<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=512, initial-scale=1.0" />
    <title>&#x200C;</title>
  </head>
  <body style="background-color: #252830; color: #252830; overflow: hidden">
    <pre style="height: 2000px"></pre>
    <iframe
      id="player"
      width="640"
      height="360"
      src="https://www.youtube.com/embed/iSqJwuNJHBI?origin=https%3A%2F%2Fslowftw.github.io&autoplay=1&mute=0&enablejsapi=1&version=3&loop=1&controls=0&playlist=iSqJwuNJHBI&playsinline=1&widgetid=1"
      frameborder="0"
      allowfullscreen="1"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    ></iframe>
    <script>
      scrollTo(0, 0);
      if (location.hash)
        document.querySelector("iframe").src = document
          .querySelector("iframe")
          .src.replace(
            /iSqJwuNJHBI/g,
            encodeURIComponent(location.hash.slice(1))
          );
      const tag = document.createElement("script");
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName("script")[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      let player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player("player", {
          /* height: "360",
          width: "640",
          videoId: "iSqJwuNJHBI",
          playerVars: {
            autoplay: 1,
            loop: 1,
            mute: 0,
            enablejsapi: 1,
            version: 3,
            controls: 0,
            playlist: "iSqJwuNJHBI",
            playsinline: 1
          }, */
          events: {
            onReady: onPlayerReady,
            onStateChange: onPlayerStateChange,
          },
        });
      }
      function onPlayerReady(event) {
        event.target.playVideo();
        event.target.setVolume(100);
        player.playVideo();
        player.setVolume(100);
      }

      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PAUSED) {
          event.target.playVideo();
          event.target.unMute();
          event.target.setVolume(100);
          player.playVideo();
          player.unMute();
          player.setVolume(100);
        } /* else if (event.data == YT.PlayerState.PLAYING) {
          document.querySelector("pre").style.height = "2000px";
        } */
      }

      setInterval(function () {
        document
          .querySelector("iframe")
          .contentWindow.postMessage(
            '{"event":"command","func":"playVideo","args":""}',
            "*"
          );
      }, 500);
    </script>
  </body>
</html>
